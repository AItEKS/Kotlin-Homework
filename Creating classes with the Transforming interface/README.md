# Иерархия геометрических фигур на Kotlin

Этот проект демонстрирует ключевые принципы объектно-ориентированного программирования (ООП) в Kotlin, включая наследование, интерфейсы и полиморфизм, на практическом примере геометрических фигур.

## Ключевые возможности проекта

*   **Абстрактный класс `Figure`**: Задает общий контракт для всех фигур (наличие `id` и метода `area()`).
*   **Интерфейсы `Movable` и `Transforming`**: Определяют поведение для перемещения, масштабирования и вращения. Интерфейс `Movable` также требует реализацию метода `getPos()` для получения текущих координат.
*   **Конкретные классы `Rect`, `Circle`, `Square`**: Реализуют специфическую логику для каждой формы. Класс `Square` наследуется от `Rect` для повторного использования кода.
*   **Data Class `Point`**: Используется для инкапсуляции и удобного возврата координат через метод `getPos()`.

## Структура проекта

```
└── src
    ├── Circle.kt
    ├── Figure.kt
    ├── Main.kt
    ├── Movable.kt
    ├── Point.kt
    ├── Rect.kt
    ├── Square.kt
    └── Transforming.kt
```

## Код демонстрации (`Main.kt`)

Файл `Main.kt` создает список из различных фигур и итерирует по нему, применяя общие операции для демонстрации полиморфизма. Каждая фигура корректно выполняет действия (`move`, `resize`, `rotate`) в соответствии со своей реализацией.

```kotlin
fun main() {
    val figures: List<Figure> = listOf(
        Rect(id = 1, x = 10, y = 20, width = 8, height = 4),
        Circle(id = 2, x = -10, y = -5, radius = 5),
        Square(id = 3, x = 0, y = 0, side = 6)
    )

    for (figure in figures) {
        println("\n--- ${figure.javaClass.simpleName} (id=${figure.id}) ---")
        println("Начальное состояние: $figure")
        println("Площадь: ${figure.area()}")

        if (figure is Movable) {
            println("Начальная позиция: ${figure.getPos()}")
            figure.move(10, 5)
            println("Позиция после перемещения: ${figure.getPos()}")
        }

        if (figure is Transforming) {
            figure.resize(2)
            println("Состояние после масштабирования: $figure")
            figure.rotate(RotateDirection.Clockwise, 0, 0)
            println("Состояние после вращения: $figure")
        }
    }
}
```

## Результат выполнения

Запуск `main` функции производит следующий консольный вывод, подтверждая, что все методы работают корректно для каждого типа фигуры.

```
--- Rect (id=1) ---
Начальное состояние: Rect(id=1, pos=(10, 20), size=8x4)
Площадь: 32.0
Начальная позиция: (10, 20)
Позиция после перемещения: (20, 25)
Состояние после масштабирования: Rect(id=1, pos=(20, 25), size=16x8)
Состояние после вращения: Rect(id=1, pos=(25, -20), size=8x16)

--- Circle (id=2) ---
Начальное состояние: Circle(id=2, pos=(-10, -5), radius=5)
Площадь: 78.53982
Начальная позиция: (-10, -5)
Позиция после перемещения: (0, 0)
Состояние после масштабирования: Circle(id=2, pos=(0, 0), radius=10)
Состояние после вращения: Circle(id=2, pos=(0, 0), radius=10)

--- Square (id=3) ---
Начальное состояние: Square(id=3, pos=(0, 0), side=6)
Площадь: 36.0
Начальная позиция: (0, 0)
Позиция после перемещения: (10, 5)
Состояние после масштабирования: Square(id=3, pos=(10, 5), side=12)
Состояние после вращения: Square(id=3, pos=(5, -10), side=12)
```
